<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.15.0"/><title data-react-helmet="true">Docker Compose Error | Gowtham Potnuru</title><meta data-react-helmet="true" name="description" content="Gowtham Potnuru is a software engineer who specializes in building (and occasionally designing) exceptional digital experiences."/><meta data-react-helmet="true" name="image" content="https://gowtham7991.github.io/personal-portfolio"/><meta data-react-helmet="true" property="og:title" content="Gowtham Potnuru"/><meta data-react-helmet="true" property="og:description" content="Gowtham Potnuru is a software engineer who specializes in building (and occasionally designing) exceptional digital experiences."/><meta data-react-helmet="true" property="og:image" content="https://gowtham7991.github.io/personal-portfolio"/><meta data-react-helmet="true" property="og:url" content="https://gowtham7991.github.io/personal-portfolio/pensieve/docker-error"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="Gowtham Potnuru"/><meta data-react-helmet="true" name="twitter:description" content="Gowtham Potnuru is a software engineer who specializes in building (and occasionally designing) exceptional digital experiences."/><meta data-react-helmet="true" name="twitter:image" content="https://gowtham7991.github.io/personal-portfolio"/><meta data-react-helmet="true" name="google-site-verification" content="DCl7VAf9tcz6eD9gb67NfkNnJ1PKRNcg8qQiwpbx9Lk"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=b87a60dcc56152b39485259445691b4c" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#0a192f"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b87a60dcc56152b39485259445691b4c"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-71b159cc029511a76005.js"/><link as="script" rel="preload" href="/framework-306428b3f19363da004c.js"/><link as="script" rel="preload" href="/app-c53436d24755c93d8d14.js"/><link as="script" rel="preload" href="/c1de6202-422c478ca7d5698b6bf1.js"/><link as="script" rel="preload" href="/546641dfde76ed00139ea2c3eae09499c5f2164a-004450660b35e00ebba8.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-539f9dbb024f10a3bd3d.js"/><link as="fetch" rel="preload" href="/page-data/pensieve/docker-error/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1994492073.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2009693873.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3825832676.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4162897811.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body class=""><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="root"><a class="skip-to-content" href="#content">Skip to Content</a><div class="sc-aXZVg IWxls"><header class="sc-eqUAAy kyuwLv"><nav class="sc-fqkvVR gOAgfw"><div class="logo" tabindex="-1"><a aria-label="home" href="/"><div class="hex-container"><svg id="hex" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 84 96"><title>Hexagon</title><g transform="translate(-8.000000, -2.000000)"><g transform="translate(11.000000, 5.000000)"><polygon stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" points="39 0 0 22 0 67 39 90 78 68 78 23" fill="currentColor"></polygon></g></g></svg></div><div class="logo-container"><svg id="logo" xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 84 96"><title>Logo</title><g transform="translate(-8.000000, -2.000000)"><g transform="translate(11.000000, 5.000000)"><polygon id="Shape" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" points="39 0 0 22 0 67 39 90 78 68 78 23"></polygon><path d="M 53.201 5.7 L 49.701 13.6 Q 45.501 11.3 41.151 9.8 A 27.36 27.36 0 0 0 35.051 8.48 A 34.225 34.225 0 0 0 31.501 8.3 A 20.13 20.13 0 0 0 24.014 9.671 A 18.919 18.919 0 0 0 20.301 11.65 A 20.295 20.295 0 0 0 14.976 17.068 A 27.457 27.457 0 0 0 12.551 21.5 A 31.614 31.614 0 0 0 10.505 28.231 Q 9.902 31.363 9.751 34.955 A 58.311 58.311 0 0 0 9.701 37.4 Q 9.701 44.709 11.669 50.163 A 26.036 26.036 0 0 0 12.301 51.75 A 24.18 24.18 0 0 0 15.233 56.797 A 19.102 19.102 0 0 0 19.501 60.9 A 17.93 17.93 0 0 0 29.31 64.086 A 21.993 21.993 0 0 0 30.101 64.1 A 22.762 22.762 0 0 0 35.698 63.437 A 18.835 18.835 0 0 0 40.051 61.75 A 40.361 40.361 0 0 0 43.053 59.967 Q 45.338 58.463 46.901 56.9 L 46.901 41.6 L 32.401 41.6 L 32.401 34.1 L 55.901 34.1 L 55.901 71.2 L 47.501 71.2 L 47.501 64.2 A 35.883 35.883 0 0 1 43.122 67.492 A 47.354 47.354 0 0 1 39.001 69.85 A 23.594 23.594 0 0 1 29.594 72.35 A 28.131 28.131 0 0 1 27.901 72.4 A 26.572 26.572 0 0 1 18.588 70.8 A 24.511 24.511 0 0 1 13.501 68.2 Q 7.201 64 3.601 56.25 A 37.529 37.529 0 0 1 0.693 46.68 A 51.837 51.837 0 0 1 0.001 38 A 56.301 56.301 0 0 1 0.836 28.083 A 42.572 42.572 0 0 1 3.801 18.25 A 32.73 32.73 0 0 1 9.585 9.302 A 29.455 29.455 0 0 1 14.751 4.85 Q 21.901 0 32.001 0 Q 38.501 0 43.601 1.6 Q 48.701 3.2 53.201 5.7 Z" fill="#64ffda" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path></g></g></svg></div></a></div><div class="sc-dcJsrY hBiDpH"><ol><li><a href="/#about">About</a></li><li><a href="/#jobs">Experience</a></li><li><a href="/#projects">Work</a></li><li><a href="/#contact">Contact</a></li></ol><div><a class="resume-button" href="/resume.pdf" target="_blank" rel="noopener noreferrer">Resume</a></div></div><div class="sc-iGgWBj liTuhW"><div><button aria-label="Menu" class="sc-gsFSXq cjDHPZ"><div class="ham-box"><div class="ham-box-inner"></div></div></button><aside aria-hidden="true" tabindex="-1" class="sc-kAyceB kbFufZ"><nav><ol><li><a href="/#about">About</a></li><li><a href="/#jobs">Experience</a></li><li><a href="/#projects">Work</a></li><li><a href="/#contact">Contact</a></li></ol><a href="/resume.pdf" class="resume-link">Resume</a></nav></aside></div></div></nav></header><div orientation="left" class="sc-imWYAI flIeuQ"><ul class="sc-jXbUNg bCumtB"><li><a href="https://www.linkedin.com/in/gowtham-potnuru" aria-label="Linkedin" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><title>LinkedIn</title><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></li><li><a href="https://github.com/gowtham7991" aria-label="GitHub" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li><li><a href="https://instagram.com/gowtham_potnuru" aria-label="Instagram" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram"><title>Instagram</title><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a></li><li><a href="https://twitter.com/gowtham_potnuru" aria-label="Twitter" target="_blank" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></li></ul></div><div orientation="right" class="sc-imWYAI bOZyoI"><div class="sc-dhKdcB iIZwSS"><a href="mailto:gowthampotnuru1997@gmail.com">gowthampotnuru1997@gmail.com</a></div></div><div id="content"><main class="sc-cWSHoV lbmlOV"><span class="breadcrumb"><span class="arrow">←</span><a href="/pensieve">All memories</a></span><header class="sc-eBMEME gnRuzo"><h1 class="medium-heading">Docker Compose Error</h1><p class="subtitle"><time>December 12, 2019</time><span> — </span><a class="tag" href="/pensieve/tags/word-press/">#<!-- -->WordPress</a><a class="tag" href="/pensieve/tags/docker/">#<!-- -->Docker</a></p></header><div class="sc-dCFHLb cizJi"><h2>Problem</h2>
<p>Recently while updating with <a href="https://github.com/Upstatement/skela-wp-theme" target="_blank" rel="nofollow noopener noreferrer">Skela</a> with webpack, I encountered a weird error where I wasn't able to run a simple script:</p>
<div class="gatsby-code-title">bin/composer</div>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">docker-compose</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-w</span> /var/www/html/wp-content/themes/skela wordpress <span class="token function">composer</span> <span class="token string">"<span class="token variable">$@</span>"</span></code></pre></div>
<p>When trying to run this script via <code class="language-text">./bin/composer install</code>, I got this error in my terminal:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">ERROR: Setting workdir <span class="token keyword">for</span> <span class="token builtin class-name">exec</span> is not supported <span class="token keyword">in</span> API <span class="token operator">&lt;</span> <span class="token number">1.35</span> <span class="token punctuation">(</span><span class="token number">1.30</span><span class="token punctuation">)</span></code></pre></div>
<p>The error was coming from the <code class="language-text">-w</code> flag in the <code class="language-text">docker-compose exec</code> command in the <code class="language-text">composer</code> script.</p>
<h2>Solution</h2>
<p>Turns The fix was to update the version in my <code class="language-text">docker-compose.yml</code> file to from version <code class="language-text">3.5</code> to <code class="language-text">3.6</code>. It's strange because 3.5 isn't anywhere close to the API version <code class="language-text">1.35</code> from the error message 🤷‍♀️</p>
<div class="gatsby-code-title">docker-compose.yml</div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="gatsby-highlight-code-line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.6'</span></span><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">wordpress</span><span class="token punctuation">:</span>
    build<span class="token punctuation">:</span></code></pre></div></div></main><footer class="sc-kpDqfm iPudlE"><div class="sc-dAlyuH lmAJmk"><ul><li><a href="https://www.linkedin.com/in/gowtham-potnuru" aria-label="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><title>LinkedIn</title><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></li><li><a href="https://github.com/gowtham7991" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li><li><a href="https://instagram.com/gowtham_potnuru" aria-label="Instagram"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram"><title>Instagram</title><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a></li><li><a href="https://twitter.com/gowtham_potnuru" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a></li></ul></div><div class="sc-jlZhew OcjpF"><a href="https://github.com/gowtham7991"><div>Designed &amp; Built by Gowtham Potnuru</div></a></div></footer></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-45666519-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/pensieve/docker-error";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-c53436d24755c93d8d14.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-6f061b09cc63f0400406.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e7c09d42604aa5cf02f5.js"],"component---src-pages-archive-js":["/component---src-pages-archive-js-7bf224cbb385d8f03a69.js"],"component---src-pages-index-js":["/component---src-pages-index-js-1761e330cd8f6cf5057a.js"],"component---src-pages-pensieve-index-js":["/component---src-pages-pensieve-index-js-ad3e81cc9cddb6d5f637.js"],"component---src-pages-pensieve-tags-js":["/component---src-pages-pensieve-tags-js-9cab666eec27bc2f8234.js"],"component---src-templates-post-js":["/component---src-templates-post-js-539f9dbb024f10a3bd3d.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-ad5159b42dad1b3c0a52.js"]};/*]]>*/</script><script src="/component---src-templates-post-js-539f9dbb024f10a3bd3d.js" async=""></script><script src="/546641dfde76ed00139ea2c3eae09499c5f2164a-004450660b35e00ebba8.js" async=""></script><script src="/c1de6202-422c478ca7d5698b6bf1.js" async=""></script><script src="/app-c53436d24755c93d8d14.js" async=""></script><script src="/framework-306428b3f19363da004c.js" async=""></script><script src="/webpack-runtime-71b159cc029511a76005.js" async=""></script></body></html>